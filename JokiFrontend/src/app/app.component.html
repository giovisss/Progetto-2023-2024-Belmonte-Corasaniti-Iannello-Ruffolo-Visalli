<mat-sidenav-container class="sidenav-container">
  <!-- Barra laterale (sidenav) -->
  <mat-sidenav #sidenav mode="side" class="chat-sidenav" [opened]="false">
    <div class="chat-container">
      <h2 class="chat-title">WebSocket Chat</h2>
      
      <div class="message-container">
        <!-- Cicla su tutti i messaggi e mostrali -->
        <div *ngFor="let msg of messages" 
             [ngClass]="{'sent-message': msg.type === 'sent', 'received-message': msg.type === 'received'}">
          <strong *ngIf="msg.type === 'sent'">Tu: </strong>
          <strong *ngIf="msg.type === 'received'">Server: </strong>
          {{ msg.content }}
        </div>
      </div>      
      
      <div class="input-container">
        <input
          type="text"
          placeholder="Scrivi un messaggio..."
          [(ngModel)]="message"
          (keydown.enter)="sendMessage()"
        />
        <button (click)="sendMessage()">Invia</button>
      </div>
    </div>
  </mat-sidenav>

  <!-- Contenuto principale della pagina -->
  <mat-sidenav-content>
    <app-header></app-header>
    <router-outlet></router-outlet>
    <app-footer></app-footer>
    <!-- Bottone per aprire la chat -->
    <button mat-button (click)="sidenav.toggle()" class="chat-toggle-button">
      {{ sidenav.opened ? 'Chiudi Chat' : 'Apri Chat' }}
    </button>
  </mat-sidenav-content>
</mat-sidenav-container>